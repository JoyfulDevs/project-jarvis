syntax = "proto3";

package channelconfig.v2;

import "channelconfig/v2/types.proto";

option go_package = "github.com/genians/endpoint-lab-slack-bot/proto/channelconfig";

service ChannelConfigService {
  rpc GetChannelConfig(GetChannelConfigRequest) returns (GetChannelConfigResponse) {}
  rpc SetDailyScrumConfig(SetDailyScrumConfigRequest) returns (SetDailyScrumConfigResponse) {}
  rpc GetDailyScrumConfig(GetDailyScrumConfigRequest) returns (GetDailyScrumConfigResponse) {}
  rpc SetWeeklyReportConfig(SetWeeklyReportConfigRequest) returns (SetWeeklyReportConfigResponse) {}
  rpc GetWeeklyReportConfig(GetWeeklyReportConfigRequest) returns (GetWeeklyReportConfigResponse) {}

  rpc AddScrumMessageHistory(AddScrumMessageHistoryRequest) returns (AddScrumMessageHistoryResponse) {}
  rpc GetScrumMessageHistory(GetScrumMessageHistoryRequest) returns (GetScrumMessageHistoryResponse) {}
}

message GetChannelConfigRequest {
  string channel_id = 1;
}

message GetChannelConfigResponse {
  ChannelConfig config = 1;
}

message SetDailyScrumConfigRequest {
  string channel_id = 1;
  DailyScrumConfig config = 2;
}

message SetDailyScrumConfigResponse {
  DailyScrumConfig config = 1;
}

message GetDailyScrumConfigRequest {
  string channel_id = 1;
}

message GetDailyScrumConfigResponse {
  DailyScrumConfig config = 1;
}

message SetWeeklyReportConfigRequest {
  string channel_id = 1;
  WeeklyReportConfig config = 2;
}

message SetWeeklyReportConfigResponse {
  WeeklyReportConfig config = 1;
}

message GetWeeklyReportConfigRequest {
  string channel_id = 1;
}

message GetWeeklyReportConfigResponse {
  WeeklyReportConfig config = 1;
}

message AddScrumMessageHistoryRequest {
  string channel_id = 1;
  double message_id = 2;
}

message AddScrumMessageHistoryResponse {}

message GetScrumMessageHistoryRequest {
  string channel_id = 1;
}

message GetScrumMessageHistoryResponse {
  repeated double message_ids = 1;
}
